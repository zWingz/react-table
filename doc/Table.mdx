---
name: Table
route: /table
order: 4
---
import { Table } from '../src'
import { Playground } from 'docz'
import {mock} from 'mockjs'

# Table

## Description

- Fixed `thead` by window `scroll` events, use `translate`
- Fixed `left` and `right` by `absolute`

### Base Use
``` typescript
const dataSource = []
const column = [{
  title: 'id',
  dataIndex: 'id'
}, {
  title: 'column1',
  dataIndex: 'column1'
}]

<Table dataSource={dataSource} columns={column} rowKey='id'/>
```

<Playground>
  {
    () => {
      const fieldKey = []
      const fieldCount = 10
      let i = 0
      for(; i < fieldCount; i ++) {
        fieldKey.push('field' + i)
      }
      const columns = fieldKey.map((each, idx) => ({
        title: each,
        dataIndex: each,
        fixed: idx === 0 ? 'left' : (idx === (fieldCount - 1) ? 'right' : false)
      }))
      const mockJson = fieldKey.reduce((json, each) => {
        json[each] = '@sentence(2,3)'
        return json
      }, {})
      const mockData = mock({
        'list|50': [mockJson],
      })
      const dataSource = mock(mockData).list
      return <Table columns={columns} dataSource={dataSource} rowKey='field1'/>
    }
  }

</Playground>

### ChainPath

```typescript
const columns = [{
  title: 'other',
  dataIndex: 'other.value'
}]

```

<Playground>
  {
    () => {
      const fieldKey = []
      const fieldCount = 10
      let i = 0
      for(; i < fieldCount; i ++) {
        fieldKey.push('field' + i)
      }
      const columns = fieldKey.map((each, idx) => ({
        title: each,
        dataIndex: each === 'field1' ? each : each + '.value',
        fixed: idx === 0 ? 'left' : (idx === (fieldCount - 1) ? 'right' : false)
      }))
      const mockJson = fieldKey.reduce((json, each) => {
        json[each] = each === 'field1' ? '@sentence(2,3)' : {
          value: '@sentence(2,3)'
        }
        return json
      }, {})
      const mockData = mock({
        'list|10': [mockJson],
      })
      const dataSource = mock(mockData).list
      return <Table columns={columns} dataSource={dataSource} rowKey='field1'/>
    }
  }

</Playground>

## Props

| Props | Type | Default  | Desc |
| ----- | ---- | ---- | ------- |
| dataSource | Array | [] | data object |
| colums | [columnsProps](#columnsprops)[] | [] | table columns |
| rowKey | string | `none` | table row key, must be unique |
| className | string | '' | table classname |
| style | object | `{}` | table style |
| offsetTop | number | `0` | thead offsetTop |
| onRow | (record: T) => TableRowProp| null | tableRow prop |
| scrollBarOffset | number | 5 | scrollbar offset bottom |

```typescript
type PlainObject = {
  [key: string]: any
}
export interface TableProp<T extends PlainObject = any> {
  columns?: ColumnProps<T>[]
  dataSource?: T[]
  rowKey?: string
  className?: string
  style?: React.CSSProperties
  offsetTop?: number
  scrollBarOffset?: number
  onRow?: (record: T) => TableRowProp
}
type TableRowProp = Partial<HTMLAttributes<HTMLTableRowElement>>
```

### ColumnsProps

| Props | Type | Default  | Desc |
| ----- | ---- | ---- | ------- |
| title | any | `none` | column title |
| key | string | `none` | column key |
| dataIndex | string | '' | datasources key |
| render | (text, record, index) => any | () => {} | column render function |
| align | `left` &#124; `right` &#124; `center` &#124; `center` | column align |
| className | string | '' | column className |

```typescript
interface ColumnProps<T extends PlainObject = any> {
  title?: React.ReactNode
  key?: React.Key
  dataIndex?: keyof T | string
  render?: (text: any, record: T, index: number) => React.ReactNode
  align?: 'left' | 'right' | 'center'
  className?: string
  fixed?: boolean | ('left' | 'right')
}
```
